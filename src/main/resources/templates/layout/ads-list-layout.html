<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<body>
<main th:fragment="ad-list(mainContext, tabName)">
    <div class="container">
        <section class="my-3">
            <th:block th:insert="${mainContext}"></th:block>

            <div class="row">
                <th:block th:each="property, iStat : ${propertyPage.content}">
                    <div class="col-sm-4 p-2">
                        <div class="card h-100">
                            <a href="#" class="embed-responsive embed-responsive-16by9">
                                <img class="card-img-top embed-responsive-item"
                                     th:src="@{/img/property/{fileName}(fileName=${property.photos.get(0).name})}"/>
                            </a>
                            <div class="card-body">
                                <h4 class="card-title text-center" th:text="${property.propertyType.name}"></h4>
                                <p class="card-text text-left"
                                   th:utext="${'<strong>Адрес</strong>: ' + property.city + ', ' + property.district + ', ' + property.street + ', ' + property.houseNumber +
                                             '<br><strong>Телефон</strong>: ' + property.user.phone}"></p>
                            </div>
                            <div class="card-footer text-center">
                                <a href="#" class="btn btn-primary">Редактировать</a>
                            </div>
                        </div>
                    </div>
                </th:block>
            </div>

            <nav class="my-3" th:if="${propertyPage.totalPages > 0}">
                <ul class="pagination justify-content-center">
                    <li class="page-item" th:classappend="${propertyPage.number == 0} ? disabled">
                        <a class="page-link"
                           th:href="@{/user/{tabName}(tabName=${tabName}, size=${propertyPage.size}, page=${propertyPage.number})}"
                           tabindex="-1">Предыдущая</a>
                    </li>
                    <th:block th:each="pageNumber : ${pageNumbers}">
                        <li class="page-item" th:classappend="${pageNumber==propertyPage.number + 1} ? active">
                            <a class="page-link"
                               th:href="@{/user/{tabName}(tabName=${tabName}, size=${propertyPage.size}, page=${pageNumber})}"
                               th:text="${pageNumber}"></a>
                        </li>
                    </th:block>
                    <li class="page-item"
                        th:classappend="${propertyPage.number + 1 == propertyPage.totalPages} ? disabled">
                        <a class="page-link"
                           th:href="@{/user/{tabName}(tabName=${tabName}, size=${propertyPage.size}, page=${propertyPage.number + 2})}"
                           tabindex="-1">Следующая</a>
                    </li>
                </ul>
            </nav>
        </section>
    </div>
</main>
</body>
</html>